<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Get Data Using Thymeleaf</title>
<script type="text/javascript" src="../lib/jquery-3.6.0.min.js"></script>

<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
	rel="stylesheet">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"
	integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
	crossorigin="anonymous"></script>
<body>
	<div align="center">
		<button id="btnAdd" type="button" class="btn btn-primary">Add
			Data</button>
		<table style="width: 200px;" align="center"
			class="table table-striped">
			<thead>
				<tr>
					<th scope="col">Nama</th>
					<th scope="col">Jurusan</th>
					<th colspan="2" style="text-align: center;">Action</th>
				</tr>
			</thead>
			<tbody id="list-mahasiswa">

			</tbody>
		</table>
	</div>

	<div id="modal" class="modal" tabindex="-1" role="dialog">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Modal title</h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<p>Modal body text goes here.</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary"
						data-dismiss="modal">Close</button>
					<button type="button" class="btn btn-primary">Save changes</button>
				</div>
			</div>
		</div>
	</div>
	<script type="text/javascript">
	$(document).ready( function(){
		//menampilkan semua data
		$.ajax({
			url:'/mahasiswa/list',
			type:'get',
			dataType:'html',
			success: function(result){
				$("#list-mahasiswa").html(result);	
			}
		})
		
		//menampilkan pop up add
		$("#btnAdd").on("click",function(){
			$.ajax({
				url:'/mahasiswa/addMhs',
				type:'get',
				dataType:'html',
				success:function(result){
					$("#modal").modal("show");	
					$("#modal").find(".modal-body").html(result);
				}
			});
		});
	});
	
</script>
</body>
</html>